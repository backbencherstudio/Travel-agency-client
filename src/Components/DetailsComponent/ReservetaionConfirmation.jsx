import { Link } from "react-router-dom"
import StaticMap from "../../Shared/StaticMap"
import { useEffect, useState } from "react"
import "./details.css"

export default function ReservetionConfirmation({ handleReservetionConfirmation }) {
    const [windowHeight, setWindowHeight] = useState(0);
    useEffect(() => {
        const handleResize = () => {
            const height = parseInt(window.innerHeight) - 200;
            console.log(height)
            setWindowHeight(height)
        }
        // Run once on mount
        handleResize();

        // Add listener
        window.addEventListener("resize", handleResize);

        // Cleanup on unmount
        return () => {
            window.removeEventListener("resize", handleResize);
        };
    }, []);
    return (
        <div className={`bg-white rounded-xl p-6 flex flex-col gap-12 relative`}
            style={{ maxHeight: `${windowHeight}px` }}
        >
            <div className="overflow-y-scroll hide-scrollbar">
                <div className="flex flex-col gap-1 items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="84" height="84" viewBox="0 0 84 84" fill="none">
                        <g clip-path="url(#clip0_5033_49068)">
                            <path d="M3.59167 83.8187L49.7096 64.8531C50.9729 64.3281 51.4159 62.7859 50.6448 61.5062C48.4956 57.8804 43.9839 50.8421 38.2581 45.1164C32.7128 39.571 25.9862 35.3382 22.4753 33.3039C21.1956 32.5656 19.6698 33.0085 19.1612 34.2554L0.179172 80.4226C-0.641141 82.4242 1.5737 84.6554 3.59167 83.8187Z" fill="#ED3F03" />
                            <path d="M22.7703 75.9422L11.9914 80.3719L3.64062 72.0047L8.07031 61.2422L22.7703 75.9422ZM42.2773 67.9031L31.5148 72.3328L11.6633 52.4977L16.093 41.7188L42.2773 67.9031Z" fill="#FCB424" />
                            <path d="M40.0452 43.6078C39.8484 43.4109 39.8319 43.0828 40.0124 42.8531L57.928 21.1641L62.489 25.725L40.7999 43.6406C40.5866 43.8211 40.2585 43.8047 40.0452 43.6078Z" fill="#07B7EE" />
                            <path d="M43.4935 46.578C46.1513 44.2647 58.374 34.2405 70.1537 35.8155L70.2685 43.0342C70.2685 43.0342 60.7037 38.5717 44.2482 47.6608C43.9857 47.8084 43.674 47.7592 43.4607 47.5459C43.1982 47.2998 43.1982 46.8733 43.4443 46.6108C43.4607 46.5944 43.4771 46.578 43.4935 46.578Z" fill="#ED3F03" />
                            <path d="M37.0778 40.1773C39.3911 37.5195 49.4153 25.2969 47.8403 13.5172L40.6216 13.4023C40.6216 13.4023 45.1005 22.9672 35.995 39.4227C35.8474 39.6852 35.8966 39.9969 36.1099 40.2102C36.3724 40.4727 36.7825 40.4727 37.045 40.2102L37.0778 40.1773Z" fill="#FCB424" />
                            <path d="M69.7084 14.0568C68.035 16.7639 68.0514 19.4381 69.7084 22.1451C69.7248 22.1779 69.7248 22.2271 69.692 22.2436C69.6756 22.26 69.6428 22.26 69.6264 22.2436C66.9029 20.5373 64.2287 20.5701 61.5053 22.2436C61.4725 22.26 61.4232 22.26 61.4068 22.2271C61.3904 22.2107 61.3904 22.1779 61.4068 22.1615C63.1131 19.4381 63.0967 16.7803 61.4232 14.0404C61.4068 14.0076 61.4068 13.9584 61.4397 13.942C61.4561 13.9256 61.4889 13.9256 61.5217 13.942C64.2287 15.6318 66.8865 15.6318 69.61 13.9584C69.6428 13.9256 69.6756 13.9256 69.7084 13.9584C69.7412 13.9748 69.7412 14.024 69.7084 14.0568Z" fill="#07B7EE" />
                            <path d="M83.9346 41.4236C80.7682 41.7353 78.6682 43.376 77.5197 46.3619C77.5033 46.3947 77.4705 46.4111 77.4213 46.3947C77.3885 46.3783 77.3721 46.3619 77.3721 46.3291C77.0603 43.1299 75.4197 41.0299 72.4338 39.8978C72.401 39.8814 72.3846 39.8486 72.401 39.7994C72.4174 39.7666 72.4338 39.7502 72.4666 39.7502C75.6658 39.4549 77.7658 37.8142 78.9142 34.8283C78.9307 34.7955 78.9635 34.7791 79.0127 34.7955C79.0455 34.8119 79.0619 34.8283 79.0619 34.8611C79.3736 38.0439 80.9978 40.1439 83.9674 41.2924C84.0002 41.3088 84.0166 41.358 84.0002 41.3908C83.9674 41.4072 83.951 41.4236 83.9346 41.4236Z" fill="#ED3F03" />
                            <path d="M42.5713 0.0642488C42.2432 3.23065 40.6189 5.34706 37.633 6.47909C37.6002 6.4955 37.5838 6.52831 37.6002 6.57753C37.6166 6.61034 37.633 6.62675 37.6658 6.62675C40.865 6.92206 42.965 8.57909 44.0971 11.565C44.1135 11.5978 44.1463 11.6142 44.1955 11.5978C44.2283 11.5814 44.2447 11.565 44.2447 11.5322C44.54 8.333 46.1807 6.233 49.1666 5.08456C49.1994 5.06815 49.2158 5.03534 49.1994 4.98612C49.183 4.95331 49.1666 4.9369 49.1338 4.9369C45.951 4.62519 43.851 3.00097 42.7025 0.0314362C42.6861 -0.00137625 42.6533 -0.0177825 42.6205 -0.00137625C42.5877 0.01503 42.5713 0.0314363 42.5713 0.0642488ZM65.7369 55.5994L65.3103 57.2072C65.2611 57.3713 65.3103 57.5682 65.4416 57.683L66.6228 58.8478C66.8197 59.0447 66.8197 59.34 66.6393 59.5369C66.5736 59.6025 66.4916 59.6518 66.4096 59.6682L64.8018 60.0947C64.6213 60.1439 64.49 60.2752 64.4572 60.4393L64.0307 62.0471C63.965 62.3096 63.7025 62.4736 63.44 62.408C63.3416 62.3916 63.2596 62.3424 63.2103 62.2768L62.0455 61.1119C61.9143 60.9807 61.7338 60.9314 61.5697 60.9807L59.9619 61.4072C59.6994 61.4893 59.4205 61.3252 59.3549 61.0627C59.3221 60.9807 59.3221 60.8822 59.3549 60.7838L59.7814 59.176C59.8307 59.0119 59.7814 58.815 59.6502 58.7002L58.4853 57.5353C58.2885 57.3385 58.2885 57.0432 58.4689 56.8463C58.5346 56.7807 58.6166 56.7314 58.6986 56.715L60.3064 56.2885C60.4705 56.2393 60.6182 56.108 60.651 55.9439L61.0775 54.3361C61.1432 54.0736 61.4057 53.9096 61.6682 53.9752C61.7502 53.9916 61.8322 54.0408 61.8978 54.1064L63.0791 55.2713C63.2103 55.4025 63.3908 55.4518 63.5549 55.4025L65.1627 54.976C65.4252 54.8939 65.7041 55.058 65.7697 55.3041C65.7533 55.4189 65.7533 55.5174 65.7369 55.5994Z" fill="#FCB424" />
                            <path d="M30.5466 20.4074L30.1201 22.0153C30.0709 22.1793 30.1201 22.3762 30.2513 22.491L31.4162 23.6723C31.6131 23.8692 31.6131 24.1645 31.4326 24.3613C31.367 24.427 31.2849 24.4762 31.2029 24.4926L29.5951 24.9192C29.431 24.9684 29.2834 25.0996 29.2506 25.2637L28.824 26.8715C28.7584 27.134 28.4959 27.2981 28.2334 27.2324C28.1513 27.216 28.0693 27.1668 28.0037 27.1012L26.8388 25.9363C26.7076 25.8051 26.5271 25.7559 26.3631 25.8051L24.7552 26.2317C24.4927 26.3137 24.2138 26.1496 24.1482 25.9035C24.1154 25.8215 24.1154 25.7231 24.1482 25.6246L24.5748 24.0168C24.624 23.8528 24.5748 23.6559 24.4435 23.541L23.2787 22.3762C23.0818 22.1957 23.0818 21.884 23.2623 21.6871C23.3279 21.6215 23.4099 21.5723 23.492 21.5559L25.0998 21.1293C25.2638 21.0801 25.4115 20.9488 25.4443 20.7684L25.8709 19.1606C25.9365 18.8981 26.199 18.734 26.4615 18.7996C26.5435 18.816 26.6256 18.8653 26.6912 18.9309L27.856 20.1121C27.9873 20.2434 28.1677 20.2926 28.3318 20.2434L29.9396 19.8168C30.2021 19.7348 30.481 19.8988 30.5466 20.1613C30.5631 20.227 30.5631 20.3254 30.5466 20.4074Z" fill="#ED3F03" />
                        </g>
                        <defs>
                            <clipPath id="clip0_5033_49068">
                                <rect width="84" height="84" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                    <h3>Reservation Confirmed!</h3>
                    <p className="text-nowrap">Thank you for your booking Here are your collection details</p>
                </div>
                <div className="flex flex-col gap-6">
                    <div className="p-6 border border-[#ECEFF3] rounded-[10px] flex flex-col gap-4">
                        <div className="text-[#475467] text-[18px] flex gap-1 items-center">
                            Reservation ID:
                            <span className="text-[#0F1416] font-medium">ABC123</span>
                        </div>
                        <div className="flex flex-col gap-4">
                            <div className="flex flex-col gap-3">
                                <div className="flex gap-2 items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="23" viewBox="0 0 18 23" fill="none">
                                        <path d="M15 17.5C16.2447 17.9244 17 18.4819 17 19.0925C17 20.4221 13.4183 21.5 9 21.5C4.58172 21.5 1 20.4221 1 19.0925C1 18.4819 1.75527 17.9244 3 17.5" stroke="#0E457D" stroke-width="1.5" stroke-linecap="round" />
                                        <path d="M12 9C12 10.6569 10.6569 12 9 12C7.34315 12 6 10.6569 6 9C6 7.34315 7.34315 6 9 6C10.6569 6 12 7.34315 12 9Z" stroke="#0E457D" stroke-width="1.5" />
                                        <path d="M9 1.5C13.0588 1.5 16.5 4.92803 16.5 9.0869C16.5 13.312 13.0028 16.277 9.7725 18.2932C9.53709 18.4287 9.27087 18.5 9 18.5C8.72913 18.5 8.46291 18.4287 8.2275 18.2932C5.00325 16.2573 1.5 13.3266 1.5 9.0869C1.5 4.92803 4.9412 1.5 9 1.5Z" stroke="#0E457D" stroke-width="1.5" />
                                    </svg>
                                    <p className="text-[#0F1416] text-[18px] font-medium">Pickup Point:</p>
                                </div>
                                <div className="">
                                    <div className="text-[#0F1416] text-[16px] font-medium flex gap-1">
                                        Address:
                                        <span className="text-[#475467] text-[16px]">151 Bac acker Hostel,Colon 151 D Miraflores, Lima Peruy</span>
                                    </div>
                                    <div className="text-[#0F1416] text-[16px] font-medium flex gap-1">
                                        Hours:
                                        <span className="text-[#475467] text-[16px]"> 9:00 AM - 5:00 PM</span>
                                    </div>
                                </div>
                            </div>
                            <div className="flex flex-col gap-3">
                                <div className="flex gap-2 items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="23" viewBox="0 0 22 23" fill="none">
                                        <path d="M2.77762 11.4424C1.8296 9.78931 1.37185 8.43948 1.09584 7.07121C0.687622 5.04758 1.62181 3.07081 3.16938 1.80947C3.82345 1.27638 4.57323 1.45852 4.96 2.1524L5.83318 3.71891C6.52529 4.96057 6.87134 5.58139 6.8027 6.23959C6.73407 6.89779 6.26737 7.43386 5.33397 8.50601L2.77762 11.4424ZM2.77762 11.4424C4.69651 14.7883 7.70784 17.8013 11.0576 19.7224M11.0576 19.7224C12.7107 20.6704 14.0605 21.1282 15.4288 21.4042C17.4524 21.8124 19.4292 20.8782 20.6905 19.3306C21.2236 18.6766 21.0415 17.9268 20.3476 17.54L18.7811 16.6668C17.5394 15.9747 16.9186 15.6287 16.2604 15.6973C15.6022 15.7659 15.0661 16.2326 13.994 17.166L11.0576 19.7224Z" stroke="#0E457D" stroke-width="1.5" stroke-linejoin="round" />
                                    </svg>
                                    <span className="text-[#0F1416] text-[18px] font-medium">Contact:</span>
                                </div>
                                <p>+8801234567891</p>
                            </div>
                        </div>
                    </div>
                    <div className="py-6 rounded-[10px]">
                        <div className="h-237px">

                            {/* <StaticMap location="Dhaka, Bangladesh"/> */}
                            <iframe
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2367.469642881246!2d90.39869322734249!3d23.778121523255784!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3755c76925717c2d%3A0xcb33cf344a80553!2sMohakhali%20Bus%20Stop!5e0!3m2!1sen!2sbd!4v1734754290833!5m2!1sen!2sbd"
                                style={{ border: 0, width: "100%", height: "100%" }}
                                allowFullScreen=""
                                loading="lazy"
                            />
                        </div>
                    </div>
                    <button className="text-white text-[16px] font-medium w-full bg-orange-500 py-3 rounded-full">Show on map</button>
                </div>
                <div className="absolute top-4 left-4 cursor-pointer" onClick={handleReservetionConfirmation}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M15 1L1 15" stroke="#0F1416" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M1 1L15 15" stroke="#0F1416" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </div>
            </div>
        </div>
    )
}